!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):n.TinyScrollListener=e()}(this,function(){"use strict";var m=function(n){return"function"==typeof n},E="OUTSIDE",y="INSIDE",g="scroll";return function n(e){var o=this,t=e.distanceToReachEnd,i=void 0===t?100:t,r=e.onEndReached,c=e.element,s=e.distanceEvents,a=void 0===s?[]:s;if(function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),void 0!==c){var f=c===document.body,d=a.map(function(n){var e=n.distance;return c.scrollTop>e?E:y});if(m(r)){var u=!1,l=function(n){n?1===a.length&&o.destroy():u=!1},v={distance:function(){return c.scrollHeight-c.offsetHeight-i},onGoingOut:function(){u||(u=!0,r(l))}};a.push(v),d.push(y)}if(0!==a.length){var h=!1,p=function(n){h||(requestAnimationFrame(function(){(function(n){n.stopPropagation();var u=f?document.documentElement.scrollTop:c.scrollTop;a.forEach(function(n,e){var o=n.distance,t=void 0===o?-1:o,i=n.onGoingIn,r=void 0===i?function(){}:i,c=n.onGoingOut,s=void 0===c?function(){}:c;switch(m(t)&&(t=t()),d[e]){case y:t<u&&(s(),d[e]=E);break;case E:u<=t&&(r(),d[e]=y)}})}).call(c,n),h=!1}),h=!0)};return(f?document:c).addEventListener(g,p),this.destroy=function(){return(f?document:c).removeEventListener(g,p)},this}console.error("Need Distance Events!")}else console.error("Need Scroll Container!")}});
